// ==========================================================================
// DROPDOWN STYLES
// ==========================================================================
// sass-lint:disable no-empty-rulesets

// BEVM STRUCTURE: Dropdown 
// Block: dropdown
// Elements: 
//   __label, __brand, __brand-image
//   __toggle
//   __menu, __menu-header, __menu-list, __menu-footer 
//    

// PSEUDO CLASSES 
// ==========================================================================
%dropdown__before-icon {
    @include pe-font-sizing-h3();    
    display: block;    
    width: 100%;                
    height: 100%;
}

%dropdown__label {
    display: block;                
    position: absolute;
    top: 0;
    left: 0;    
    width: 100%;
    height: 100%;
    text-align: center;
    text-overflow: ellipsis;
    white-space: nowrap;    
    cursor: pointer;
    overflow: hidden;    
}

%dropdown__toggle {
    display: none;

    &:checked + .dropdown__menu {
        display: block;
    } 
}

// MIXINS
// ==========================================================================
@mixin dropdown-item-hover-style (
    $border-color-top: nth($pe-greyscale-color-list, 4),
    $border-color-top-hover: nth($pe-primary-color-list, 4),
    $border-color-bottom: nth($pe-greyscale-color-list, 2),
    $border-color-bottom-hover: nth($pe-primary-color-list, 2),
    $background-color: nth($pe-greyscale-color-list, 3),
    $background-color-hover: nth($pe-primary-color-list, 3),
    $text-color: $pe-color-white
) {    
    @include top-and-bottom-border(
        $color-top: $border-color-top,
        $color-bottom: $border-color-bottom
    );

    background-color: $background-color;
    color: $text-color;

    &:hover, 
    &.active {
        @include top-and-bottom-border(
            $color-top: $border-color-top-hover,
            $color-bottom: $border-color-bottom-hover
        );        
        background-color: $background-color-hover;
        color: $text-color;
    }
}

// MAIN CLASS 
// ==========================================================================
.dropdown {
    &::before {            
        @extend %dropdown__before-icon;
    }

    &__label {
        @extend %dropdown__label;
    }

    &__toggle {
        @extend %dropdown__toggle;
    }

    &__menu {        
        display: none;
        position: absolute;                 
        top: 70px;
        border-width: 0 0 2px 0;
        border-style: solid;
        border-radius: 6px;
        border-color: nth($pe-accent-color-list, 2);
        background: nth($pe-accent-color-list, 2);        
        box-shadow: 0 1px 3px 0 transparentize($pe-color-black, 0.8);

        &-list {
            height: auto;
            max-height: 200px;            
            background-color: nth($pe-greyscale-color-list, 3);
            overflow-y: auto;
        }    

        &-item {
            @include dropdown-item-hover-style();
            @include span(12 of 12);
            height: 60px;                                

            &:nth-child(1) {
                border-top: 0;
            }

            > a {
                display: inline-block;
                width: 100%;
                height: 100%;
                padding: 0 span(1);
                color: $pe-color-white;           
                line-height: 60px;
                text-align: left;
                text-decoration: none;
                cursor: pointer;
            }          
        } 

        &-header {
            @include dropdown-item-hover-style(
                $border-color-top: $pe-color-transparent,
                $border-color-top-hover: $pe-color-transparent,
                $border-color-bottom: nth($pe-greyscale-color-list, 1),
                $border-color-bottom-hover: nth($pe-greyscale-color-list, 1),
                $background-color: nth($pe-greyscale-color-list, 4),
                $background-color-hover: nth($pe-greyscale-color-list, 4),
                $text-color: $pe-color-white
            );
            @include pe-font-sizing-h7();
            position: relative;
            height: 40px;
            border-top: 0;        
            border-radius: 6px 6px 0 0;
            line-height: 40px;
            text-decoration: none;
            box-shadow: 0 1px 2px -1px transparentize(nth($pe-greyscale-color-list, 1), 0.5);
            z-index: 2;

            &:hover {
                border-top: 0;
            }              
        }

        &-footer {
            @include dropdown-item-hover-style(
                $border-color-top: nth($pe-accent-color-list, 6),
                $border-color-top-hover: nth($pe-accent-color-list, 6),
                $border-color-bottom: nth($pe-accent-color-list, 3),
                $border-color-bottom-hover: nth($pe-accent-color-list, 3),
                $background-color: nth($pe-accent-color-list, 4),
                $background-color-hover: nth($pe-accent-color-list, 4),
                $text-color: $pe-color-white
            );
            @include pe-font-sizing-h6();                        
            border-bottom: 0;
            border-radius: 0 0 6px 6px;        
            text-decoration: none;    
        }

        &-header,
        &-footer {
            display: block;
            text-align: center;
        }
    }
}


// VARIATION CLASSES 
// ==========================================================================
.dropdown--navbar {
    &::before {
        @extend %dropdown__before-icon;            
        @include pe-font-sizing-h3();
        line-height: 60px;
    }

    .dropdown__label {
        @extend %dropdown__label;
    }

    .dropdown__toggle {
        @extend %dropdown__toggle;
    }

    %dropdown__menu {

    }

    .dropdown__menu {        
        display: none;
        position: absolute;                 
        top: 70px;
        border-width: 0 0 2px 0;
        border-style: solid;
        border-radius: 6px;
        border-color: nth($pe-accent-color-list, 2);
        background: nth($pe-accent-color-list, 2);        
        box-shadow: 0 1px 3px 0 transparentize($pe-color-black, 0.8);

        &-list {
            height: auto;
            max-height: 200px;            
            background-color: nth($pe-greyscale-color-list, 3);
            overflow-y: auto;
        }    

        &-item {
            @include dropdown-item-hover-style();
            @include span(12 of 12);
            height: 60px;                                

            &:nth-child(1) {
                border-top: 0;
            }

            > a {
                display: inline-block;
                width: 100%;
                height: 100%;
                padding: 0 span(1);
                color: $pe-color-white;           
                line-height: 60px;
                text-align: left;
                text-decoration: none;
                cursor: pointer;
            }          
        } 

        &-header {
            @include dropdown-item-hover-style(
                $border-color-top: $pe-color-transparent,
                $border-color-top-hover: $pe-color-transparent,
                $border-color-bottom: nth($pe-greyscale-color-list, 1),
                $border-color-bottom-hover: nth($pe-greyscale-color-list, 1),
                $background-color: nth($pe-greyscale-color-list, 4),
                $background-color-hover: nth($pe-greyscale-color-list, 4),
                $text-color: $pe-color-white
            );
            @include pe-font-sizing-h7();
            position: relative;
            height: 40px;
            border-top: 0;        
            border-radius: 6px 6px 0 0;
            line-height: 40px;
            text-decoration: none;
            box-shadow: 0 1px 2px -1px transparentize(nth($pe-greyscale-color-list, 1), 0.5);
            z-index: 2;

            &:hover {
                border-top: 0;
            }              
        }

        &-footer {
            @include dropdown-item-hover-style(
                $border-color-top: nth($pe-accent-color-list, 6),
                $border-color-top-hover: nth($pe-accent-color-list, 6),
                $border-color-bottom: nth($pe-accent-color-list, 3),
                $border-color-bottom-hover: nth($pe-accent-color-list, 3),
                $background-color: nth($pe-accent-color-list, 4),
                $background-color-hover: nth($pe-accent-color-list, 4),
                $text-color: $pe-color-white
            );
            @include pe-font-sizing-h6();                        
            border-bottom: 0;
            border-radius: 0 0 6px 6px;        
            text-decoration: none;    
        }

        &-header,
        &-footer {
            display: block;
            text-align: center;
        }
    }
}















